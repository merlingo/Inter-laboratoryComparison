@model CalCom.Web.Models.AdminPanel.UretimViewModel
@{
    ViewBag.Title = "Uretim";
    Layout = "~/Views/Shared/_admin_layout.cshtml";

}
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<!-- Content Wrapper. Contains page content -->
<section class="content-header">
    <h1>Üretim Paneli
    </h1>
    <ol class="breadcrumb">
        <li class="active"><i class="fa fa-dashboard"></i>Üretim</li>

    </ol>
</section>

<!-- Main content -->
<section class="content">

    <!-- Default box -->
    <div class="callout callout-info">

        <h4 class="callout-title">Bilgilendirme</h4>
        @*               <div class="callout-tools pull-right">
              <button class="btn btn-box-tool" data-widget="collapse" data-toggle="tooltip" title="Collapse"><i class="fa fa-minus"></i></button>
                <button class="btn btn-box-tool" data-widget="remove" data-toggle="tooltip" title="Remove"><i class="fa fa-times"></i></button>
              </div>*@

        <p>
            Sisteme yeni eklemelerin yapılabilmesi ve gerekli verilerin takibi için gerekli ekranları bulunduran modüldür. Bu modül ile laboratuvar, karşılaştırma ve ölçüm
                aletlerinin sisteme kaydının yönetilmesi amaçlanmaktadır. Gerekli ekranlar sağdaki kontrol menüsünden seçilerek ulaşılabilir.
        </p>

    </div>
    <!-- /.box -->
    <div class="row">
        <div class="col-sm-4">
            <div class="box box-danger">
                <div class="box-header with-border">
                    <h3 class="box-title">Ölçüm Aleti Listesi</h3>
                    <div class="box-tools pull-right">
                    </div>
                </div>
                <div class="box-body table-responsive no-padding">
                    <table class="table table-hover">
                        <tbody>
                            <tr>
                                <th>Ölçüm Aleti</th>
                                <th>Karşılaştırma Türü Sayısı</th>
                                <th>Eklenme Tarihi</th>
                            </tr>
                            @foreach (var oa in Model.OlcumAletiListesi)
                            {
                                <tr id="@oa.oaId">
                                    <td>@oa.Isim</td>
                                    <td>@oa.KarsilastirmaSayisi</td>
                                    <td>@oa.EklenmeTarihi</td>
                                </tr>
                            }
                        </tbody>
                    </table>

                </div>
                <!-- /.box-body -->

            </div>
            <!-- /.box -->
        </div>
        <div class="col-sm-8">
            <div class="box box-warning">
            <div class="box-header with-border">
              <h3 class="box-title">Karşılaştırma Listesi</h3>
              <div class="box-tools pull-right">
          </div>
            </div>
            <div class="box-body table-responsive no-padding">
                  <table class="table table-hover">
                    <tbody><tr>
                      <th>Karşılaştırma</th>
                      <th>Konu</th>
                      <th>Ölçüm Aralığı</th>
                        <th>Açılan Test Sayısı</th> 
                      <th>Eklenme Tarihi</th>
                    </tr>
                   @foreach(var oa in Model.KarList){
                    <tr id="@oa.Id">
                          <td>@oa.OlcumAleti</td>
                          <td>@oa.Konu</td>
                          <td>@oa.OlcumAraligib - @oa.OlcumAraligis</td>
                          <td>@oa.AcilanTestSayisi</td>
                          <td>@oa.EklenmeTarihi</td>

                    </tr>
                   }
                  </tbody></table>

            </div><!-- /.box-body -->
          </div><!-- /.box -->
        </div>
    </div>
    <div class="row">
         <div class="col-sm-12">
        <div class="box box-primary">
            <div class="box-header with-border">
              <h3 class="box-title">Laboratuvar Listesi</h3>
              <div class="box-tools pull-right">
          </div>
            </div>
           <div class="box-body table-responsive no-padding">
                  <table class="table table-hover">
                    <tbody><tr>
                      <th>Amblem</th>
                      <th>Laboratuvar</th>
                      <th>Yönetici</th>
                        <th>Çalışma Alanı</th>
                      <th>Telefon</th>
                        <th>E-Mail</th> 
                      <th>Kayıt Durumu</th>
                    </tr>
                   @foreach(var oa in Model.LabList){
                    <tr id="@oa.idOlustur()">
                        <td><img src="@oa.AmblemPath" /></td>
                          <td>@oa.Isim</td>
                          <td>@oa.Yonetici</td>
                          <td>@oa.CalismaAlani</td>
                          <td>@oa.Tel</td>
                          <td>@oa.Mail</td>
                          <td>@oa.KayitliMi</td>

                    </tr>
                   }
                  </tbody></table>

            </div><!-- /.box-body -->
          </div><!-- /.box -->
    </div>
        </div>
</section>
<!-- /.content -->



</div>

        
         <aside class="control-sidebar control-sidebar-dark">
             <!-- Create the tabs -->

             <!-- Tab panes -->
             <div class="tab-content">
                 <!-- Home tab content -->
                 <div class="tab-pane active" id="control-sidebar-home-tab">
                     <h3 class="control-sidebar-heading">İzlence</h3>
                     <ul class="control-sidebar-menu">
                         <li>
                             <a href="OlcumAletiUretimi">
                                 <i class="menu-icon fa fa-balance-scale bg-red"></i>
                                 <div class="menu-info">
                                     <h4 class="control-sidebar-subheading">Ölçüm Aleti</h4>
                                     <p>Kayıt takibi - Bilgiler</p>
                                 </div>
                             </a>
                         </li>
                         <li>
                             <a href="KarsilastirmaUretimi">
                                 <i class="menu-icon fa fa-line-chart bg-yellow"></i>
                                 <div class="menu-info">
                                     <h4 class="control-sidebar-subheading">Karşılaştırmalar</h4>
                                     <p>Başlatılan ve Üretilen Karşılaştırma Bilgileri</p>
                                 </div>
                             </a>
                         </li>
                         <li>
                             <a href="LaboratuvarKayitlari">
                                 <i class="menu-icon fa fa-flask bg-light-blue"></i>
                                 <div class="menu-info">
                                     <h4 class="control-sidebar-subheading">Laboratuvar Kayıtları</h4>
                                     <p>Kaydı Onaylanan - Yeni Kayıt Laboratuvarlar</p>
                                 </div>
                             </a>
                         </li>

                     </ul>
                     <!-- /.control-sidebar-menu -->

                     <h3 class="control-sidebar-heading">İşlemler</h3>
                     <ul class="control-sidebar-menu">
                         <li>
                             <a onclick="IslemPartial('OlcumAletiEkle')" data-toggle="modal" data-target="#olcumAletiModal" style="cursor: pointer">
                                 <i class="menu-icon fa fa-balance-scale bg-red"></i>
                                 <div class="menu-info">
                                     <h4 class="control-sidebar-subheading">Ölçüm Aleti Ekle</h4>
                                     <p>Sisteme yeni ölçüm aleti eklemek için</p>
                                 </div>
                             </a>
                         </li>
                         <li>
                             <a href="KarsilastirmaYarat">
                                 <i class="menu-icon fa fa-line-chart bg-yellow"></i>
                                 <div class="menu-info">
                                     <h4 class="control-sidebar-subheading">Karşılaştırma Yarat
                                     </h4>
                                     <p>
                                         Ölçüm aleti için sistemde var olmayan yeni karşılaştırma üretimi
                                     </p>
                                 </div>
                             </a>
                         </li>
                         <li>
                             <a data-toggle="modal" data-target="#olcumAletiModal" style="cursor: pointer" onclick="IslemPartial('LabKayitOnayi')">
                                 <i class="menu-icon fa fa-flask bg-light-blue"></i>
                                 <div class="menu-info">
                                     <h4 class="control-sidebar-subheading">Lab-Kayıt Onayı</h4>
                                     <p>
                                         Yeni kayıt olan laboratuvar onayı
                                     </p>
                                 </div>
                             </a>
                         </li>
                     </ul>



                 </div>
                 <!-- /.tab-pane -->



             </div>
         </aside>
<!-- /.control-sidebar -->
<!-- Add the sidebar's background. This div must be placed
           immediately after the control sidebar -->
<div class="control-sidebar-bg"></div>

<!--Olcum Aleti Modal -->
<div id="olcumAletiModal" class="modal fade" role="dialog">

    <div class="modal-dialog">
        <div class="modal-content">

            <!-- Modal content-->
            <div class="overlay">
                <i class="fa fa-refresh fa-spin"></i>
            </div>
        </div>
    </div>
</div>




<script>
    var sekme = document.getElementById("uretim_sekme");
    sekme.classList.add("active");


    function labGetir(oaid) {
        $.ajax(
        {
            url: '/AdminPanel/OlcumAletiBilgileri',
            type: "GET",
            data: { 'oaid': oaid },
            success: function (response) {
                $("#partialSpan").html(response);

            }

        });

    }
    function IslemPartial(is) {
        $.ajax(
       {
           url: '/AdminPanel/' + is,
           type: "GET",
           //data: { 'id': id, 'k': k },
           success: function (response) {
               $("#olcumAletiModal").html(response);
           }
       });
    }
</script>
